/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.12.1 - 2015-02-20
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.transition"]),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(n){var e=null;this.open=function(i){e||(n.bind("click",t),n.bind("keydown",o)),e&&e!==i&&(e.isOpen=!1),e=i},this.close=function(i){e===i&&(e=null,n.unbind("click",t),n.unbind("keydown",o))};var t=function(n){if(e){var t=e.getToggleElement();n&&t&&t[0].contains(n.target)||e.$apply(function(){e.isOpen=!1})}},o=function(n){27===n.which&&(e.focusToggleElement(),t())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(n,e,t,o,i,r){var a,l=this,c=n.$new(),s=o.openClass,d=angular.noop,u=e.onToggle?t(e.onToggle):angular.noop;this.init=function(o){l.$element=o,e.isOpen&&(a=t(e.isOpen),d=a.assign,n.$watch(a,function(n){c.isOpen=!!n}))},this.toggle=function(n){return c.isOpen=arguments.length?!!n:!c.isOpen},this.isOpen=function(){return c.isOpen},c.getToggleElement=function(){return l.toggleElement},c.focusToggleElement=function(){l.toggleElement&&l.toggleElement[0].focus()},c.$watch("isOpen",function(e,t){r[e?"addClass":"removeClass"](l.$element,s),e?(c.focusToggleElement(),i.open(c)):i.close(c),d(n,e),angular.isDefined(e)&&e!==t&&u(n,{open:!!e})}),n.$on("$locationChangeSuccess",function(){c.isOpen=!1}),n.$on("$destroy",function(){c.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(n,e,t,o){o.init(e)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(n,e,t,o){if(o){o.toggleElement=e;var i=function(i){i.preventDefault(),e.hasClass("disabled")||t.disabled||n.$apply(function(){o.toggle()})};e.bind("click",i),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),n.$watch(o.isOpen,function(n){e.attr("aria-expanded",!!n)}),n.$on("$destroy",function(){e.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var n=[];return{add:function(e,t){n.push({key:e,value:t})},get:function(e){for(var t=0;t<n.length;t++)if(e==n[t].key)return n[t]},keys:function(){for(var e=[],t=0;t<n.length;t++)e.push(n[t].key);return e},top:function(){return n[n.length-1]},remove:function(e){for(var t=-1,o=0;o<n.length;o++)if(e==n[o].key){t=o;break}return n.splice(t,1)[0]},removeTop:function(){return n.splice(n.length-1,1)[0]},length:function(){return n.length}}}}}).directive("modalBackdrop",["$timeout",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(e,t,o){e.backdropClass=o.backdropClass||"",e.animate=!1,n(function(){e.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(n,e){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(n,e){return e.templateUrl||"template/modal/window.html"},link:function(t,o,i){o.addClass(i.windowClass||""),t.size=i.size,e(function(){t.animate=!0,o[0].querySelectorAll("[autofocus]").length||o[0].focus()}),t.close=function(e){var t=n.getTop();t&&t.value.backdrop&&"static"!=t.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),n.dismiss(t.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(n,e,t,o,i){i(n.$parent,function(n){e.empty(),e.append(n)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(n,e,t,o,i,r){function a(){for(var n=-1,e=f.keys(),t=0;t<e.length;t++)f.get(e[t]).value.backdrop&&(n=t);return n}function l(n){var e=t.find("body").eq(0),o=f.get(n).value;f.remove(n),s(o.modalDomEl,o.modalScope,300,function(){o.modalScope.$destroy(),e.toggleClass(p,f.length()>0),c()})}function c(){if(d&&-1==a()){var n=u;s(d,u,150,function(){n.$destroy(),n=null}),d=void 0,u=void 0}}function s(t,o,i,r){function a(){a.done||(a.done=!0,t.remove(),r&&r())}o.animate=!1;var l=n.transitionEndEventName;if(l){var c=e(a,i);t.bind(l,function(){e.cancel(c),a(),o.$apply()})}else e(a)}var d,u,p="modal-open",f=r.createNew(),m={};return i.$watch(a,function(n){u&&(u.index=n)}),t.bind("keydown",function(n){var e;27===n.which&&(e=f.top(),e&&e.value.keyboard&&(n.preventDefault(),i.$apply(function(){m.dismiss(e.key,"escape key press")})))}),m.open=function(n,e){f.add(n,{deferred:e.deferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var r=t.find("body").eq(0),l=a();if(l>=0&&!d){u=i.$new(!0),u.index=l;var c=angular.element("<div modal-backdrop></div>");c.attr("backdrop-class",e.backdropClass),d=o(c)(u),r.append(d)}var s=angular.element("<div modal-window></div>");s.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:f.length()-1,animate:"animate"}).html(e.content);var m=o(s)(e.scope);f.top().value.modalDomEl=m,r.append(m),r.addClass(p)},m.close=function(n,e){var t=f.get(n);t&&(t.value.deferred.resolve(e),l(n))},m.dismiss=function(n,e){var t=f.get(n);t&&(t.value.deferred.reject(e),l(n))},m.dismissAll=function(n){for(var e=this.getTop();e;)this.dismiss(e.key,n),e=this.getTop()},m.getTop=function(){return f.top()},m}]).provider("$modal",function(){var n={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(e,t,o,i,r,a,l){function c(n){return n.template?o.when(n.template):i.get(angular.isFunction(n.templateUrl)?n.templateUrl():n.templateUrl,{cache:r}).then(function(n){return n.data})}function s(n){var t=[];return angular.forEach(n,function(n){(angular.isFunction(n)||angular.isArray(n))&&t.push(o.when(e.invoke(n)))}),t}var d={};return d.open=function(e){var i=o.defer(),r=o.defer(),d={result:i.promise,opened:r.promise,close:function(n){l.close(d,n)},dismiss:function(n){l.dismiss(d,n)}};if(e=angular.extend({},n.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var u=o.all([c(e)].concat(s(e.resolve)));return u.then(function(n){var o=(e.scope||t).$new();o.$close=d.close,o.$dismiss=d.dismiss;var r,c={},s=1;e.controller&&(c.$scope=o,c.$modalInstance=d,angular.forEach(e.resolve,function(e,t){c[t]=n[s++]}),r=a(e.controller,c),e.controllerAs&&(o[e.controllerAs]=r)),l.open(d,{scope:o,deferred:i,content:n[0],backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(n){i.reject(n)}),u.then(function(){r.resolve(!0)},function(){r.reject(!1)}),d},d}]};return n}),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(n,e,t){function o(n){for(var e in n)if(void 0!==r.style[e])return n[e]}var i=function(o,r,a){a=a||{};var l=n.defer(),c=i[a.animation?"animationEndEventName":"transitionEndEventName"],s=function(){t.$apply(function(){o.unbind(c,s),l.resolve(o)})};return c&&o.bind(c,s),e(function(){angular.isString(r)?o.addClass(r):angular.isFunction(r)?r(o):angular.isObject(r)&&o.css(r),c||l.resolve(o)}),l.promise.cancel=function(){c&&o.unbind(c,s),l.reject("Transition cancelled")},l.promise},r=document.createElement("trans"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},l={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=o(a),i.animationEndEventName=o(l),i}]);